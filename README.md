# Crawling_project_kyobo



###  SYSTEM FLOW
<img src="https://github.com/BAEintelli/Carwling-Project/blob/master/img/systemflow.JPG" width="90%"></img>



### Create info
- made by : Joonyoung Bae, Bitna Bae
- function : 

		crawling kyobo page
		Save data to database
		sending to slack msg
- return : book_info & review_info


## 데이터 수집의 개요
### 수집 동기
- 독자들을 위한 책정보 검색
    - 국내 유명 도서사이트에서 책을 검색 시  도서이름으로만 검색해야 하는 한계 극복
    - 읽고 싶은 내용을 검색, 관련 콘텐츠를 크롤링한 책 소개와 연관시켜
    - 책 제목 및 정보 추출

- 교보문고 사이트의 특성
    - 가장 유명한 도서 유통 사이트
    - 분야별, 키워드별, 리뷰 정리 등 다양한 책 정보 내용이 잘 정리되어 있음

## 데이터 수집의 계획 및 주기 작성
### 시스템의 구조도
- 각 분야 탭으로 들어가면 베스트셀러 탭을 선택할 수 있음
- 베스트셀러의 경우 8개페이지에 그 주 해당 분야 순위대로 배열
- 구조도
    - 총 20개의 분야(ex. 소설, 시...)
    - 베스트셀러
        - (한 페이지에 20권씩 총 8페이지 150권 크롤링 가능)
        - 순위별 도서(제목/작가/출판사/가격/출판날짜/평점/책소개요약)
    - 해당도서페이지(앞 페이지 외 키워드/책사이즈/ISBN/책소개/리뷰페이지)
    - 리뷰페이지(리뷰개수 및 리뷰 자체 크롤링 가능)

### 프로세스
#### 크롤링링
- 해당 주 분야별 베스트 셀러 TOP 150 크롤링
- 분야/제목/작가/출판사/가격/ISBN/책사이즈/무게/페이지수/책소개 크롤링
- 책의 리뷰 내용  크롤

#### csv & MongoDB 저장
- 책의 재원 csv로 저장
- 리뷰 csv로 저장


#### 키워드로 도서 검색 및 ISBN으로 재고& 리뷰  정보 제공
- 문장을 입력 
- MongoDB 도서 내용(summary)에서 문장 내 명사가 일치하는  도서 정보 제공
- ISBN bot 재고 -> 매장 내 재고 정보 도출
- ISBN bot 리뷰 -> 해당 책의 리뷰 제공

### 이슈 레벨 정리
- 카테고리 패턴 분석 : level 1(1 hour)
- 책 상세정보 elemnet 위치 다양 : level 2(2 hour)
- 리뷰 페이지 url 찾기 : level 1(1 hour)
- 재고 크롤재고 크롤링 방식 변경 : level 2(2 hour)
- konlpy 패키지 설치 : level 3(3 hour)
- 문장 처리 및 명사 추출 : level 2(1.5 hour)
- 재고 크롤링 방식 변경 : level 3(3 hour)

### 버전 히스토리
- 1.1.0 책 주요 재원 크롤링
- 1.1.1 크롤링 안되는 elements 오류 수정
- 1.2.0 책 리뷰 내용 크롤링
- 1.2.1 리뷰내용 1권당 1개의 리뷰 -> 1권당 5개의 리뷰
- 1.3.0 slack 챗봇 연동 
- 1.3.1 베스트셀러가 업데이트 되는 일주일 주기로 자동 크롤링(예정)

### 발전시키고 싶은 사항
- 한 책 당 리뷰가 여러가지라, 한번에 책의 재원과 리뷰를 하낭의  프로젝트로 만들기
- 암호화 해제 된 구매한 사람의 구매 아이디를 찾아서 추천 시스템에 적용
- 자연어 처리를 하여  : 감정분석으로 책 추천
